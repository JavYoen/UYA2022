  <!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
      <script type="module">
        // Import the functions you need from the SDKs you need

    import { initializeApp } from "firebase/app";
    import { doc, addDoc } from "firebase/firestore";
    import { getDatabase, ref, set } from "firebase/database";

    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
    // Your web app's Firebase configuration

      const firebaseConfig = {
        apiKey: "AIzaSyDYhV8vIak2cIQJ_SvLUEsj-1Urdhfdy10",
        authDomain: "alfaticket-uya.firebaseapp.com",
        projectId: "alfaticket-uya",
        storageBucket: "alfaticket-uya.appspot.com",
        messagingSenderId: "836646571741",
        appId: "1:836646571741:web:3c4289faf3e4407fd79534"
      };
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const db = getDatabase();
      </script>
    </head>

    <body id="web">
      <nav>
        <div class="nav-wrapper">
          <div>
          <a href="#" class="brand-logo">AlphaTicket</a>
          </div>
          <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li><a href="#">Conciertos</a></li>
            <li><a href="#">Cine</a></li>
            <li><a href="#">Espectáculos</a></li>
            <li><a href="#">Teatro</a></li>
            <li><a href="#">Deportes</a></li>
            <li>          
              <form>
              <div class="input-field">
                <input id="search" type="search" required>
                <label class="label-icon" for="search"><i class="material-icons">search</i></label>
                <i class="material-icons">close</i>
              </div>
            </form> 
            </li>
            <li><a href="#"><i class="material-icons">account_circle</i></a></li>
          </ul>
        </div>
      </nav>

      <div class="row">
        <div class="col s3 m3 l4 offset-l4">
          <div class="card blue-grey darken-1">
            <div class="card-content white-text">
              <span class="card-title">Escucha a tu corazón <3</span>
              <p>Dinos cómo te sientes y te recomendaremos el plan perfecto para ti.<br><br></p>
              <p id="mood">Hoy me siento ...</p>
            </div>
          </div>
        </div>
      </div>
      <div>
        <div class="row"> 
          <div class="col m2 l2 offset-m5 offset-l5">
            <input id="txt_input" placeholder="Escribe cómo te sientes">
            <button onclick="write_text()">
              Guardar respuesta
            </button>  
            <script>
              function write_text() {
                document.getElementById('mood').innerHTML = "Hoy me siento " + document.getElementById('txt_input').value;
              }
            </script>
          </div>
       </div>  

      <div class="row">   
          <div class="col m4 l4 offset-m5 offset-l5">
          <h5> Cantidad de elementos </h5>
          <button onclick="counter()">
              Desplegar cuenta
          </button>
          <p id="contador_div"></p>
          <p id="contador_parag"></p>
          <p id="contador_list"></p>
        </div>
        <script>
            function counter() {
              var container_div = document.getElementById('web');
              var count_div = container_div.getElementsByTagName('div').length;
              var count_parag = container_div.getElementsByTagName('p').length;
              var count_list = container_div.getElementsByTagName('li').length;
            document.getElementById("contador_div").innerHTML = "Div: " + count_div;
            document.getElementById("contador_parag").innerHTML = "Párrafos: " + count_parag;
            document.getElementById("contador_list").innerHTML = "Items lista: " + count_list;
            }
        </script>
      </div>

      <div class="row">   
          <div class="col m4 l4 offset-m5 offset-l5">
          <h5> Compra </h5>
          <button onclick="compra()">
              Desplegar resultados
          </button>
          <p id="compra_coste"></p>
          </div>

        <script>
          var producto1 ={
            nombre: "Sonic 2",
            precio: 7
          }
          var producto2 ={
            nombre: "Rey Leon",
            precio: 20
          }
          var cliente ={
            dni: "43485315c",
            fecha: "13/08/2001",
            cuenta: "ABBEC1223232EW324",
            productos: [producto1, producto2],
            descuento: 5,
            mod_pago: "VISA"
          }
          function compra() {
          var resultado = 0;
          cliente.productos.forEach(function(a){resultado += a.precio});
          resultado = resultado * (1-(cliente.descuento/100));
          var productos_nombres = "";
          const fecha = new Date();
          cliente.productos.forEach(function(a){productos_nombres += "<br>-" + a.nombre + " (" + a.precio + "€)"});
          document.getElementById("compra_coste").innerHTML = "Productos: " + productos_nombres + "<br>Descuento: " + cliente.descuento + "%" + "<br>Coste: " + resultado + "€"
          + "<br>Fecha de pago: " + fecha.getDate() + "/" + (fecha.getMonth()+1) + "/" + fecha.getFullYear();
          }
        </script>
      </div>
    </div>


  
      <div class="row">
        <div class="col m2 l2 offset-m2 offset-l5">
          <input id="dniInput" type="text" placeholder="Inserte un DNI"/>
          <label>DNI del usuario</label>
        </div>
        <button onclick="var peticion = nif(document.getElementById('dniInput').value);"
        type="text">Buscar</button>
      </div>
    </div>  

<script type = "text/javascript" 
   src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
</script>

<div id = "stage" style = "background-color:pink"></div>

<script>
  function nif(dni) {
    var n, caracter, opciones, regexDni, resultado;
    regexDni = /^\d{8}[a-zA-Z]$/;
    if(regexDni.test (dni) == true) {
       n = dni.substr(0,dni.length-1);
       caracter = dni.substr(dni.length-1,1);
       n = n % 23;
       opciones='TRWAGMYFPDXBNJZSQVHLCKE';
       opciones=opciones.substring(n,n+1);
      if (opciones!=caracter.toUpperCase()) {
         alert('ERROR: La letra del DNI es incorrecta');
       } else{
        $(document).ready(function() {
            $.getJSON("http://demo6859390.mockable.io/alfaticket", function(data) {
              data.forEach(function(jd) {
                if (jd.dni == dni.toUpperCase()) {
                  $('#stage').html('<p> Nombre: ' + jd.nombre + '</p>');
                  $('#stage').append('<p>DNI : ' + jd.dni+ '</p>');
                  $('#stage').append('<p> Fecha: ' + jd.fecha+ '</p>');
                  $('#stage').append('<p> Cuenta: ' + jd.cuenta + '</p>');
                  $('#stage').append('<p>Compra : ' + jd.compra+ '</p>');
                  $('#stage').append('<p>Modo de Pago: ' + jd.mod_pago+ '</p>');
                }
               });
              });
            });
        }
    } else {
       alert('ERROR: Formato de DNI no válido');
       resultado = '';
     }
    return resultado;
  }
</script>

<div class="row">
  <div class="col m2 l2 offset-m2 offset-l5">
    <input id="addMovie" type="text" placeholder="Inserte un titulo"/>
    <label>Nueva Pelicula</label>
  </div>
  <button onclick= "writeUserData();"
  type="text">Añadir</button>
  </div>
</div>

<script>
  // Add a new document in collection "Peliculas"
  function writeUserData() {
    title = document.getElementById("addMovie").value;
    alert(title);
    // Add a new document with a generated id.
    const docRef = addDoc(collection(db, "peliculas"), {
      titulo: title,
    });
    alert(docRef.id);
  }
  </script>


      <div class="row">
        <div class="col m4 offset-m4">
        <h1 >Explora y disfruta</h1>
        </div>
      </div>
      <div class="row">
        <div class="col s2 m2 offset-m1">
          <div class="card">
            <div class="card-image">
              <img src="assets/iconos/concierto.png">
            </div>
            <label for="music_fav">¿Canción favorita?</label>
            <input type="text" id="music_fav"><br><br>
            <div class="card-content">
              <p>Escucha buena música</p>
            </div>
            <div class="card-action">
              <a href="#">Conciertos</a>
            </div>
          </div>
        </div>
        <div class="col s2 m2">
          <div class="card">
            <div class="card-image">
              <img src="assets/iconos/entradas.png">
            </div>
            <label for="movie_fav">¿Película favorita?</label>
            <input type="text" id="movie_fav"><br><br>
            <div class="card-content">
              <p>Admira la gran pantalla</p>
            </div>
            <div class="card-action">
              <a href="#">Cine</a>
            </div>
          </div>
        </div>
        <div class="col s2 m2">
          <div class="card">
            <div class="card-image">
              <img src="assets/iconos/show.png">
            </div>
            <label for="show_fav">¿Cómico favorito?</label>
            <input type="text" id="show_fav"><br><br>
            <div class="card-content">
              <p>Ríe, llora y recuerda</p>
            </div>
            <div class="card-action">
              <a href="#">Espectáculos</a>
            </div>
          </div>
        </div>
        <div class="col s2 m2">
          <div class="card">
            <div class="card-image">
              <img src="assets/iconos/teatro.png">
            </div>
            <label for="play_fav">¿Obra favorita?</label>
            <input type="text" id="play_fav"><br><br>
            <div class="card-content">
              <p>Disfruta del arte clásico</p>
            </div>
            <div class="card-action">
              <a href="#">Teatro</a>
            </div>
          </div>
        </div>
        <div class="col s2 m2">
          <div class="card">
            <div class="card-image">
              <img src="assets/iconos/deporte.png">
            </div>
            <label for="equipo_fav">¿De qué equipo eres?</label>
            <input type="text" id="equipo_fav"><br><br>
            <div class="card-content">
              <p>Acompaña a tu equipo</p>
            </div>
            <div class="card-action">
              <a href="#">Deporte</a>
            </div>
          </div>
        </div>
      </div>
      <div class="divider"></div>
      <div class="row">
        <div class="col m4 offset-m5">
        <h1 >Recientes</h1>
        </div>
      </div>
      <div class="row">
        <div class="col s2 m3">
          <div class="card">
            <div class="card-image">
              <img src="assets/recientes/recientes1.png">
            </div>
            <div class="card-content">
              <p>¡5SOS vuelve de gira!</p>
            </div>
            <div class="card-action">
              <a href="#">Más información</a>
            </div>
          </div>
        </div>
        <div class="col s2 m3">
          <div class="card">
            <div class="card-image">
              <img src="assets/recientes/recientes2.jpeg">
            </div>
            <div class="card-content">
              <p>Próximo estreno - Sonic 2: La película</p>
            </div>
            <div class="card-action">
              <a href="#">Más información</a>
            </div>
          </div>
        </div>
        <div class="col s2 m3">
          <div class="card">
            <div class="card-image">
              <img src="assets/recientes/recientes4.png">
            </div>
            <div class="card-content">
              <p>Mundial Qatar 2022</p>
            </div>
            <div class="card-action">
              <a href="#">Más informaciónk</a>
            </div>
          </div>
        </div>
        <div class="col s2 m3">
          <div class="card">
            <div class="card-image">
              <img src="assets/recientes/recientes3.jpg">
            </div>
            <div class="card-content">
              <p>El Rey León vuelve al escenario</p>
            </div>
            <div class="card-action">
              <a href="#">Más información</a>
            </div>
          </div>
        </div>
      </div>
      <div class="divider"></div>
      <div class="row">
        <div class="col m4 offset-m5">
        <h1 >Popular</h1>
        </div>
      </div>
      <div class="row">
        <div class="col s2 m3">
          <div class="card">
            <div class="card-image">
              <img src="assets/populares/populares1.jpg">
            </div>
            <div class="card-content">
              <p>The Batman - Ya en cines</p>
            </div>
            <div class="card-action">
              <a href="#">Más información</a>
            </div>
          </div>
        </div>
        <div class="col s2 m3">
          <div class="card">
            <div class="card-image">
              <img src="assets/populares/populares2.jpg">
            </div>
            <div class="card-content">
              <p>Fito & Fitipaldis en concierto</p>
            </div>
            <div class="card-action">
              <a href="#">Más información</a>
            </div>
          </div>
        </div>
        <div class="col s2 m3">
          <div class="card">
            <div class="card-image">
              <img src="assets/populares/populares3.jpg">
            </div>
            <div class="card-content">
              <p>League of Legends - Final</p>
            </div>
            <div class="card-action">
              <a href="#">Más información</a>
            </div>
          </div>
        </div>
        <div class="col s2 m3">
          <div class="card">
            <div class="card-image">
              <img src="assets/populares/populares4.jpg">
            </div>
            <div class="card-content">
              <p>Animales Fantásticos - Reserva tu butaca</p>
            </div>
            <div class="card-action">
              <a href="#">Más información</a>
            </div>
          </div>
        </div>
      </div>
      <div class="divider"></div>
      <div class="row">
        <div class="col m4 offset-m5">
        <h1 >Estrellas</h1>
        </div>
      </div>
      <div class="row">
        <div class="col s2 m3">
          <div class="card">
            <div class="card-image waves-effect waves-block waves-light">
              <img class="activator" src="assets/artistas/artista1.png">
            </div>
            <div class="card-content">
              <span class="card-title activator grey-text text-darken-4">J Balvin<i class="material-icons right">more_vert</i></span>
              <p><a href="#">Ver Perfil</a></p>
            </div>
            <div class="card-reveal">
              <span class="card-title grey-text text-darken-4">J Balvin<i class="material-icons right">close</i></span>
              <p>José Álvaro Osorio Balvín, ​ conocido artísticamente como J Balvin, es un cantante, compositor y productor discográfico colombiano.</p>
            </div>
          </div>
        </div>
        <div class="col s2 m3">
          <div class="card">
            <div class="card-image waves-effect waves-block waves-light">
              <img class="activator" src="assets/artistas/artista2.png">
            </div>
            <div class="card-content">
              <span class="card-title activator grey-text text-darken-4">Lebron James<i class="material-icons right">more_vert</i></span>
              <p><a href="#">Ver Perfil</a></p>
            </div>
            <div class="card-reveal">
              <span class="card-title grey-text text-darken-4">Lebron James<i class="material-icons right">close</i></span>
              <p>LeBron Raymone James Sr. es un jugador de baloncesto estadounidense que actualmente 
                pertenece a la plantilla de Los Angeles Lakers de la NBA. Con 2,06 metros de estatura, su posición es la de alero, pero su talento, 
                versatilidad y poderío físico le permiten jugar tanto de base como de ala-pívot.​</p>
            </div>
          </div>
        </div>
        <div class="col s2 m3">
          <div class="card">
            <div class="card-image waves-effect waves-block waves-light">
              <img class="activator" src="assets/artistas/artista3.png">
            </div>
            <div class="card-content">
              <span class="card-title activator grey-text text-darken-4">Leonardo DiCaprio<i class="material-icons right">more_vert</i></span>
              <p><a href="#">Ver Perfil</a></p>
            </div>
            <div class="card-reveal">
              <span class="card-title grey-text text-darken-4">Leonardo DiCaprio<i class="material-icons right">close</i></span>
              <p>Leonardo Wilhelm DiCaprio es un actor, productor de cine y ambientalista estadounidense. 
                Ha recibido numerosos premios entre los que destacan un Óscar al mejor actor</p>
            </div>
          </div>
        </div>
        <div class="col s2 m3">
          <div class="card">
            <div class="card-image waves-effect waves-block waves-light">
              <img class="activator" src="assets/artistas/artista4.png">
            </div>
            <div class="card-content">
              <span class="card-title activator grey-text text-darken-4">Eminem<i class="material-icons right">more_vert</i></span>
              <p><a href="#">Ver Perfil</a></p>
            </div>
            <div class="card-reveal">
              <span class="card-title grey-text text-darken-4">Eminem<i class="material-icons right">close</i></span>
              <p>Marshall Bruce Mathers III, conocido artísticamente como Eminem o como Slim Shady, es un rapero, productor discográfico y actor estadounidense.</p>
            </div>
          </div>
        </div>
      </div>
      <footer class="page-footer">
        <div class="container">
          <div class="row">
            <div class="col l6 s12">
              <h5 class="white-text">Encuéntranos en:</h5>
              <div class="row"> 
                <div class="col s1 m1">
                  <i class="material-icons">send</i>
                </div>
                <div class="col s1 m1">
                  <i class="material-icons">cloud</i>
                </div>
                <div class="col s1 m1">
                  <i class="material-icons">email</i>
                </div>
                <div class="col s1 m1">
                  <i class="material-icons">group</i>
                </div>
              </div>
            </div>
            <div class="col l4 offset-l2 s12">
              <h5 class="white-text">¿Alguna duda?</h5>
              <ul>
                <li><a class="grey-text text-lighten-3" href="#!">Contacto</a></li>
                <li><a class="grey-text text-lighten-3" href="#!">Ayuda</a></li>
                <li><a class="grey-text text-lighten-3" href="#!">Privacidad</a></li>
                <li><a class="grey-text text-lighten-3" href="#!">Nosotros</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="footer-copyright">
          <div class="container">
          © 2014 Copyright Text
          <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
          </div>
        </div>
      </footer>
      <!--JavaScript at end of body for optimized loading-->
      <script type="text/javascript" src="js/materialize.min.js"></script>
    </body>
  </html>